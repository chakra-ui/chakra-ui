---
id: popover
category: overlay
title: Popover
package: '@chakra-ui/popover'
description: Popover is a non-modal dialog that floats around a trigger.
---

`Popover` is built on top of the [Popper.js](https://popper.js.org/) library.

## Import

```js
import { Popover } from '@chakra-ui/react'
```

## Basic Usage

It is used to display contextual information to the user, and should be paired
with a clickable trigger element.

When Popover opens, focus is sent to `Popover.Content`. When it closes, focus is
returned to the trigger.

> Tip: When using this component, ensure the children passed to
> `Popover.Trigger` is focusable and has a forwarded `ref`.

```jsx
<Popover.Root>
  <Popover.Trigger asChild>
    <Button>Trigger</Button>
  </Popover.Trigger>
  <Popover.Content>
    <Popover.Arrow />
    <Popover.CloseTrigger />
    <Popover.Header>Confirmation!</Popover.Header>
    <PopoverBody>Are you sure you want to have that milkshake?</PopoverBody>
  </Popover.Content>
</Popover.Root>
```

## Rendering the Popover in a Portal

By default, the Popover doesn't render in a Portal. To make them display in a
portal, wrap the `Popover.Content` in a `Portal`

> You might need to **Inspect Element** to see this in action. Notice that
> `Popover.Content` is rendered as a child of `<body>`

```jsx
<Popover.Root>
  <Popover.Trigger>
    <Button>Trigger</Button>
  </Popover.Trigger>
  <Portal>
    <Popover.Content>
      <Popover.Arrow />
      <Popover.Header>Header</Popover.Header>
      <Popover.CloseTrigger />
      <PopoverBody>
        <Button colorPalette='blue'>Button</Button>
      </PopoverBody>
      <PopoverFooter>This is the footer</PopoverFooter>
    </Popover.Content>
  </Portal>
</Popover.Root>
```

## Focus an element when Popover opens

By default, focus is to sent to `Popover.Content` when it opens. Pass the
`initialFocusRef` prop to send focus to a specific element instead.

> Focusing a child element only works for popovers with a `click` trigger, not
> `hover`.

```jsx
function WalkthroughPopover() {
  const initialFocusRef = React.useRef()
  return (
    <Popover
      initialFocusRef={initialFocusRef}
      placement='bottom'
      closeOnBlur={false}
    >
      <Popover.Trigger>
        <Button>Trigger</Button>
      </Popover.Trigger>
      <Popover.Content color='white' bg='blue.800' borderColor='blue.800'>
        <Popover.Header pt={4} fontWeight='bold' border='0'>
          Manage Your Channels
        </Popover.Header>
        <Popover.Arrow bg='blue.800' />
        <Popover.CloseTrigger />
        <PopoverBody>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
          eiusmod tempor incididunt ut labore et dolore.
        </PopoverBody>
        <PopoverFooter
          border='0'
          display='flex'
          alignItems='center'
          justifyContent='space-between'
          pb={4}
        >
          <Box fontSize='sm'>Step 2 of 4</Box>
          <ButtonGroup size='sm'>
            <Button colorPalette='green'>Setup Email</Button>
            <Button colorPalette='blue' ref={initialFocusRef}>
              Next
            </Button>
          </ButtonGroup>
        </PopoverFooter>
      </Popover.Content>
    </Popover>
  )
}
```

## Trapping Focus within Popover

If the popover contains a form, you might need to trap focus within the popover
and close it when the user fills the form and hits "save".

You can leverage
[react-focus-lock](https://github.com/theKashey/react-focus-lock) to trap focus
within the `Popover.Content`.

```jsx manual=true
// import  FocusLock from "react-focus-lock"

// 1. Create a text input component
const TextInput = React.forwardRef((props, ref) => {
  return (
    <Field.Root>
      <Field.Label htmlFor={props.id}>{props.label}</Field.Label>
      <Input ref={ref} id={props.id} {...props} />
    </Field.Root>
  )
})

// 2. Create the form
const Form = ({ firstFieldRef, onCancel }) => {
  return (
    <Stack gap={4}>
      <TextInput
        label='First name'
        id='first-name'
        ref={firstFieldRef}
        defaultValue='John'
      />
      <TextInput label='Last name' id='last-name' defaultValue='Smith' />
      <Group justifyContent='flex-end'>
        <Button variant='outline' onClick={onCancel}>
          Cancel
        </Button>
        <Button disabled colorPalette='teal'>
          Save
        </Button>
      </Group>
    </Stack>
  )
}

// 3. Create the Popover
// Ensure you set `closeOnBlur` prop to false so it doesn't close on outside click
const PopoverForm = () => {
  const { onOpen, onClose, open } = useDisclosure()
  const firstFieldRef = React.useRef(null)

  return (
    <>
      <Box display='inline-block' mr={3}>
        John Smith
      </Box>
      <Popover
        open={open}
        initialFocusRef={firstFieldRef}
        onOpen={onOpen}
        onClose={onClose}
        placement='right'
        closeOnBlur={false}
      >
        <Popover.Trigger>
          <IconButton size='sm' icon={<EditIcon />} />
        </Popover.Trigger>
        <Popover.Content p={5}>
          <FocusLock returnFocus persistentFocus={false}>
            <Popover.Arrow />
            <Popover.CloseTrigger />
            <Form firstFieldRef={firstFieldRef} onCancel={onClose} />
          </FocusLock>
        </Popover.Content>
      </Popover>
    </>
  )
}

render(<PopoverForm />)
```

## Controlled Usage

You can control the opening and closing of the popover by passing the `open`,
and `onClose` props.

Sometimes you might need to set the `returnFocusOnClose` prop to `false` to
prevent popover from returning focus to `Popover.Trigger`'s children.

```jsx
function ControlledUsage() {
  const { open, onToggle, onClose } = useDisclosure()

  return (
    <>
      <Button mr={5} onClick={onToggle}>
        Trigger
      </Button>
      <Popover
        returnFocusOnClose={false}
        open={open}
        onClose={onClose}
        placement='right'
        closeOnBlur={false}
      >
        <Popover.Trigger>
          <Button colorPalette='pink'>Popover Target</Button>
        </Popover.Trigger>
        <Popover.Content>
          <Popover.Header fontWeight='semibold'>Confirmation</Popover.Header>
          <Popover.Arrow />
          <Popover.CloseTrigger />
          <PopoverBody>
            Are you sure you want to continue with your action?
          </PopoverBody>
          <PopoverFooter display='flex' justifyContent='flex-end'>
            <ButtonGroup size='sm'>
              <Button variant='outline'>Cancel</Button>
              <Button colorPalette='red'>Apply</Button>
            </ButtonGroup>
          </PopoverFooter>
        </Popover.Content>
      </Popover>
    </>
  )
}
```

## Popover Anchor

You can wrap your component with `PopoverAnchor` to prevent trigger any action.
The wrapped component will become a position reference. Actions will only be
triggered by components inside `Popover.Trigger`.

In this case, you can only open and close the popover with `Button`. If you
click on `Input`, it acts same as the original input and doesn't trigger any
action about popover.

> ðŸš¨ Note: As with [Popover.Trigger](#basic-usage), if you use a custom
> component inside `PopoverAnchor` ensure that it uses Chakra's
> [forwardRef](../recipes/as-prop#option-1-using-forwardref-from-chakra-uireact)
> so the popover is triggered successfully.

```jsx
function WithPopoverAnchor() {
  const [isEditing, setIsEditing] = useBoolean()
  const [color, setColor] = React.useState('red')

  return (
    <Popover
      open={isEditing}
      onOpen={setIsEditing.on}
      onClose={setIsEditing.off}
      closeOnBlur={false}
      isLazy
      lazyBehavior='keepMounted'
    >
      <HStack>
        <PopoverAnchor>
          <Input
            color={color}
            w='auto'
            display='inline-flex'
            disabled={!isEditing}
            defaultValue='Popover Anchor'
          />
        </PopoverAnchor>

        <Popover.Trigger>
          <Button h='40px' colorPalette='pink'>
            {isEditing ? 'Save' : 'Edit'}
          </Button>
        </Popover.Trigger>
      </HStack>

      <Popover.Content>
        <PopoverBody>
          Colors:
          <RadioGroup value={color} onChange={(newColor) => setColor(newColor)}>
            <Radio value='red'>red</Radio>
            <Radio value='blue'>blue</Radio>
            <Radio value='green'>green</Radio>
            <Radio value='purple'>purple</Radio>
          </RadioGroup>
        </PopoverBody>
      </Popover.Content>
    </Popover>
  )
}
```

## Accessing Internal state

Chakra provides access to two internal details: `open` and `onClose`. Use the
render prop pattern to gain access to them.

```jsx
function InternalStateEx() {
  const initRef = React.useRef()
  return (
    <Popover closeOnBlur={false} placement='left' initialFocusRef={initRef}>
      {({ open, onClose }) => (
        <>
          <Popover.Trigger>
            <Button>Click to {open ? 'close' : 'open'}</Button>
          </Popover.Trigger>
          <Portal>
            <Popover.Content>
              <Popover.Header>This is the header</Popover.Header>
              <Popover.CloseTrigger />
              <PopoverBody>
                <Box>
                  Hello. Nice to meet you! This is the body of the popover
                </Box>
                <Button
                  mt={4}
                  colorPalette='blue'
                  onClick={onClose}
                  ref={initRef}
                >
                  Close
                </Button>
              </PopoverBody>
              <PopoverFooter>This is the footer</PopoverFooter>
            </Popover.Content>
          </Portal>
        </>
      )}
    </Popover>
  )
}
```

## Customizing the Popover

Chakra exports all the components you need to customize the look and feel of the
popover. You can change the background, arrow size, box shadow and so on.

```jsx
<Popover.Root>
  <Popover.Trigger>
    <Box
      tabIndex='0'
      role='button'
      aria-label='Some box'
      p={5}
      w='120px'
      bg='gray.300'
      children='Click'
    />
  </Popover.Trigger>
  <Popover.Content bg='tomato' color='white'>
    <Popover.Header fontWeight='semibold'>Customization</Popover.Header>
    <Popover.Arrow bg='pink.500' />
    <Popover.CloseButton bg='purplTRiggerCloseTrigger />
    <PopoverBody>
      Tadaa!! The arrow color and background color is customized. Check the
      props for each component.
    </PopoverBody>
  </Popover.Content>
</Popover.Root>
```

## Popover Placements

Since popover is powered by PopperJS, you can change the placement of the
popover by passing the `placement` prop.

The possible values are:

<table>
  <tr>
    <td>`bottom-start`</td>
    <td> | </td>
    <td>`bottom` _(default)_</td>
    <td> | </td>
    <td>`bottom-end`</td>
  </tr>
  <tr>
    <td>`auto-start`</td>
    <td> | </td>
    <td>`auto`</td>
    <td> | </td>
    <td>`auto-end`</td>
  </tr>
  <tr>
    <td>`top-start`</td>
    <td> | </td>
    <td>`top`</td>
    <td> | </td>
    <td>`top-end`</td>
  </tr>
  <tr>
    <td>`left-start`</td>
    <td> | </td>
    <td>`left`</td>
    <td> | </td>
    <td>`left-end`</td>
  </tr>
  <tr>
    <td>`right-start`</td>
    <td> | </td>
    <td>`right`</td>
    <td> | </td>
    <td>`right-end`</td>
  </tr>
</table>

> Even though you specified the placement, Popover will try to reposition itself
> in the event that available space at the specified placement isn't enough.

```jsx
<Popover placement='top-start'>
  <Popover.Trigger>
    <Button>Click me</Button>
  </Popover.Trigger>
  <Popover.Content>
    <Popover.Header fontWeight='semibold'>Popover placement</Popover.Header>
    <Popover.Arrow />
    <Popover.CloseTrigger />
    <PopoverBody>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
      tempor incididunt ut labore et dolore.
    </PopoverBody>
  </Popover.Content>
</Popover>
```

### Lazily mounting Popover

By default, the `Popover` component renders children of `Popover.Content` to the
DOM, meaning that invisible popover contents are still rendered but are hidden
by styles.

If you want to defer rendering of popover content until that `Popover` is
opened, you can use the `isLazy` prop. This is useful if your `Popover.Content`
needs to be extra performant, or make network calls on mount that should only
happen when the component is displayed.

```jsx
<Popover isLazy>
  <Popover.Trigger>
    <Button>Click me</Button>
  </Popover.Trigger>
  <Popover.Content>
    <Popover.Header fontWeight='semibold'>Popover placement</Popover.Header>
    <Popover.Arrow />
    <Popover.CloseTrigger />
    <PopoverBody>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
      tempor incididunt ut labore et dolore.
    </PopoverBody>
  </Popover.Content>
</Popover>
```

## Accessibility

> When you see the word _"trigger"_, it is referring to the `children` of
> `Popover.Trigger`

### Keyboard and Focus

- When the popover is opened, focus is moved to the `Popover.Content`. If the
  `initialFocusRef` is set, then focus moves to the element with that `ref`.
- When the popover is closed, focus returns to the trigger. If you set
  `returnFocusOnClose` to `false`, focus will not return.
- If trigger is set to `hover`:
  - Focusing on or mousing over the trigger will open the popover.
  - Blurring or mousing out of the trigger will close the popover. If you move
    your mouse into the `Popover.Content`, it'll remain visible.
- If trigger is set to `click`:
  - Clicking the trigger or using the `Space` or `Enter` when focus is on the
    trigger will open the popover.
  - Clicking the trigger again will close the popover.
- Hitting the `Esc` key while the popover is open and focus is within the
  `Popover.Content`, will close the popover. If you set `closeOnEsc` to `false`,
  it will not close.
- Clicking outside or blurring out of the `Popover.Content` closes the popover.
  If you set `closeOnBlur` to `false`, it will not close.

### ARIA Attributes

- If the trigger is set to `click`, the `Popover.Content` element has role set
  to `dialog`. If the trigger is set to `hover`, the `Popover.Content` has
  `role` set to `tooltip`.
- The `Popover.Content` has `aria-labelledby` set to the `id` of the
  `Popover.Header`.
- The `Popover.Content` has `aria-describedby` set to the `id` of the
  `PopoverBody`.
- The `Popover.Content` has `aria-hidden` set to `true` or `false` depending on
  the open/closed state of the popover.
- The trigger has `aria-haspopup` set to `true` to denote that it triggers a
  popover.
- The trigger has `aria-controls` set to the `id` of the `Popover.Content` to
  associate the popover and the trigger.
- The trigger has `aria-expanded` set to `true` or `false` depending on the
  open/closed state of the popover.
