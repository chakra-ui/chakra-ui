# Component Theming

Chakra provides a built-in component theming API that enables you to build fully
customizable and highly reusable theme-aware components directly from your
[`theme`](/theme).

We believe that most reusable, atomic components have the following modifiers:

- Size: A component has different sizes variations (small, medium, large)
- Variant: A component has different visual styles (outline, solid, ghost)
- Color Scheme (Optional): For a given component variant, it can have several
  color schemes. For example, an outline button with a red color scheme.
- Color Mode (Optional): Components change their visual styles based on the
  user's preferred color mode (light or dark).

Our goal with the component theming API is to design a common interface to style
any component given these characteristics. Here's how it works:

```tsx
// 1. create a component schema in your theme
const theme = {
	colors: {
    green: {
      light: "#dfdfdf",
      normal: "#dfdfdf",
      dark: "#d566Df",
      darker: "#dfd56f"
    },
    blue: {}
  },
  components: {
    Button: {
      defaultProps: {
        variant: "solid",
        size: "md",
        colorScheme: "blue"
      },
      variants: {
        // props has colorScheme, colorMode (light mode or dark mode)
        solid: props => ({
          bg: `${props.colorScheme}.normal`,
          color: "white",
        }),
        outline: {
          border: "2px",
          borderColor: "green.normal"
        }
      },
      sizes: {
        sm: {
          padding: 20,
          fontSize: 12
        },
        md: {
          padding: 40,
          fontSize: 15
        }
      }
    }
  }
};

// 2. create or import Button from chakra-ui
import { Button } from "@chakra-ui/core"

// or your own button
const Button = chakra("button", { themeKey: "Button" })

// 3. use the button. It'll have the visual props defined in defaultProps
<Button>Click me</Button>

// 4. override the defaultProps
<Button variant="outline" colorScheme="green">Click me</Button>
```

The following sections provide more detail into how each piece of the component
theming API works.

## Defining sizes and variants

To define size and variant modifiers for your component, add `sizes` and
`variants` objects to your component's theming object. The keys of these objects
are the names of the modifiers, which can then be referenced by your component
as props.

Each size and variant is an object of theme-aware style props, allowing you to
theme your components with your `theme`.

As an example, we'll define a `small` size and `outline` variant for `Button`:

```tsx
const theme = {
  components: {
    Button: {
      sizes: {
        // defines a size with the name of `small`
        small: {
          padding: 20,
          fontSize: 12
        }
      },
      variants: {
        // defines a variant with the name of `outline`
        outline: {
          border: '2px',
          borderColor: 'green'
        }
      }
    }
  }
}

<Button size="small">I'm a small button!</Button>
<Button variant="outline">I'm an outline button!</Button>
<Button size="small" variant="outline">I'm a small outline button!</Button>
```

## Using color scheme and color mode

Sizes and variants can also be defined as functions. These functions receive the
component `size`, `variant`, and `colorScheme` props passed to the component
when rendered, along with the entire `theme` object and the current `colorMode`,
and return an object of theme-aware style props.

Dynamically defining your modifiers as functions allows you to conditionally
render your components based on the `colorScheme` prop and current `colorMode`.

Here's an example of `outline` and `solid` variants for `Button` that use the
`colorScheme` prop passed to the component to determine which color to use:

```tsx
const theme = {
  colors: {
    green: {
      normal: '#00ff00'
    },
    red: {
      normal: '#ff0000'
    }
  },
  components: {
    Button: {
      variants: {
        outline: ({size, variant, colorScheme, colorMode, theme}) => ({
          border: '2px',
          borderColor: `${colorScheme}.normal`
        }),
        solid: ({size, variant, colorScheme, colorMode, theme}) => ({
          color: 'white',
          bg: `${colorScheme}.normal`
        })
      }
    }
  }
}

<Button variant="outline" colorScheme="green">
  I'm a green outline button!
</Button>
<Button variant="outline" colorScheme="red">
  I'm a red outline button!
</Button>
<Button variant="solid" colorScheme="green">
  I'm a button with a green background!
</Button>
<Button variant="solid" colorScheme="red">
  I'm a button with a red background!
</Button>
```

## Default Props

The `defaultProps` key of a component theming object allows you to specify the
default props that are passed for your component. This is especially useful for
setting defaults modifiers. Here's an example:

```tsx
const theme = {
  colors: {
    green: "#34eb3d",
    red: "#fc2c03",
  },
  components: {
    Button: {
      defaultProps: {
        size: "small",
        variant: "outline",
        colorScheme: "green",
      },
      sizes: {
        small: {
          padding: 20,
          fontSize: 12,
        },
        medium: {
          padding: 40,
          fontSize: 16,
        },
      },
      variants: {
        outline: ({ theme, colorMode, variant, size, colorScheme }) => ({
          border: "2px",
          color: colorScheme,
        }),
        solid: ({size, variant, colorScheme, colorMode, theme}) => ({
          color: 'white',
          bg: `${colorScheme}.normal`
        })
      },
    },
  },
}

<Button>I'm a small, green outline button thanks to default props!</Button>
<Button size="small" variant="outline" colorScheme="green">
  I'm the same button!
</Button>

<Button colorScheme="red">
  I'm a small outline button, but I'm red because I overrode the default colorScheme
</Button>
```

## Base Style

The `baseStyle` key of a component theming object allows you to specify base
theme-aware style props that are used on all instances of the component. These
are overriden by any modifiers or props, so they're great at setting sensible
default styles. Here's an example:

```tsx
const theme = {
  components: {
    Button: {
      baseStyle: {
        padding: 20
      }
    }
  }
}

<Button>I have the base padding of 20!</Button>
<Button padding={40}>I have a padding of 40!</Button>
```

`baseStyle` can also be defined as an option to `chakra`:

```tsx
const MyButton = chakra('button', {
  baseStyle: {
    padding: 20
  }
})

<MyButton>I have a padding of 20</MyButton>
```

If `baseStyle` is defined using `chakra` and also in the `theme` using
`themeKey`, the objects are merged together, with any values in `theme` taking
precedence.

## Theme Key

Each component can be associated with a `themeKey`. The value of `themeKey` is
the name of the component that is used when defining your component theming
objects.

All Chakra components are defined with a `themeKey`, and any components created
using `chakra` take a `themeKey` option. In this way, you can create custom
components that hook into the modifiers, default props, and base styles you
define in `theme`.

```tsx
const MyButton = chakra('button', {themeKey: 'Button'})

// the built-in Chakra Button and MyButton share the same definitions in your theme
<Button>I'm a button</Button>
<MyButton>I look just like the above button!</MyButton>
```

## Theming Subcomponents

Many complex components in Chakra are not a single component, but multiple
components that are composed together.

An example of this is Chakra's `Accordion`: `Accordion`, `AccordionItem`,
`AccordionButton`, `AccordionPanel`, and `AccordionIcon`.

In cases like this, component theming objects can be nested according to their
parent using `themeKey`. `Accordion` uses a `themeKey` of `Accordion.Root`,
`AccordionItem` uses `Accordion.Item`, etc.

Chakra will then look for a nested component theming object in `theme`:

```tsx
const theme = {
  components: {
    Accordion: {
      Root: {
        defaultProps: {},
        baseStyle: {},
        sizes: {},
        variants: {},
      },
      Item: {
        defaultProps: {},
        baseStyle: {},
        sizes: {},
        variants: {},
      },
    },
  },
}
```

- each component should have a section titled theming

  - list the `themeKey`
  - short explanation of how you can style/theme the component
  - link the theming api

- `apply`
- `textStyles`
- `layerStyles`

- `createStyled` with custom interpolations?
- `createStyleProp` ?
