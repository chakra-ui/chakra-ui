---
title: Advanced
description: Documentation for the component theming API.
order: 3
---

# Theming API - Advanced

Now that you understand how to use the Chakra UI theming API, let's take it a
step further and look at how to adapt components using color mode and color
scheme.

Here's how it works: when defining the styles for the sizes or variants, you can
either pass a style object or a function that returns a style object.

The function receives an object with the `theme`, current `colorMode`, and the
`colorScheme` prop (if it was passed to the component). It's called whenever the
component is rendered.

```tsx live=false
const Button = chakra("button", {
  baseStyle: StyleObjectOrFunction,
  sizes: StyleObjectOrFunction,
  variants: StyleObjectOrFunction,
})

type StyleObjectOrFunction = StyleObject | ((options: Options) => StyleObject)

interface Options {
  theme: Theme
  colorMode: "light" | "dark"
  colorScheme: string
}
```

Using this function version of component theming, you can adapt your styles
based on color mode and color scheme.

## Using color mode

Here's an example of how to create a simple badge that changes its background
based on color mode.

> Switch to dark mode and see how how the badge background changes

```jsx isManual=true
const Badge = chakra("span", {
  baseStyle: ({ colorMode }) => ({
    bg: colorMode === "dark" ? "green.300" : "green.500",
    color: colorMode === "dark" ? "gray.800" : "white",
    textTransform: "uppercase",
    fontWeight: "semibold",
    letterSpacing: "0.02em",
    padding: "4px",
    borderRadius: "2px",
    fontSize: "12px",
  }),
})

render(<Badge>This is a badge</Badge>)
```

## Using color scheme

Here's an example of how to create a button that changes its colors based on
color scheme.

```jsx isManual=true
const colorMap = {
  red: "red.500",
  blue: "blue.500",
}
const Button = chakra("button", {
  baseStyle: ({ colorScheme }) => ({
    bg: colorMap[colorScheme] || "gray.500",
    color: "white",
    display: "block",
    p: 2,
  }),
})
Button.defaultProps = { colorScheme: "red" }

render(
  <Stack>
    <Button>Red due to defaultProps</Button>
    <Button colorScheme="red">Red due to colorScheme</Button>
    <Button colorScheme="blue">Blue due to colorScheme</Button>
    <Button colorScheme="orange">Gray due to unknown colorScheme value</Button>
  </Stack>,
)
```

## TypeScript

To ensure the props for `variant` and `size` is strongly typed, you can use
typescript generics to improve it.

```tsx live=false
// 1. Create the type defs
interface Props {
  variant?: "solid" | "outline"
  size?: "sm" | "md"
}

// 2. Use it as a generic
const Badge = chakra<"div", Props>("div", {
  /// options
})

// 3. now you'll get a strongly `variant` and `size` props
<Badge variant="solid">Welcome</Badge>
```

## Theming Subcomponents

Many complex components in Chakra are not a single component, but multiple
components that are composed together.

An example of this is Chakra's `Accordion`: `Accordion`, `AccordionItem`,
`AccordionButton`, `AccordionPanel`, and `AccordionIcon`.

In cases like this, component theming objects can be nested according to their
parent using `themeKey`. `Accordion` uses a `themeKey` of `Accordion.Root`,
`AccordionItem` uses `Accordion.Item`, etc.

Chakra will then look for a nested component theming object in `theme`:

```jsx live=false
const theme = {
  components: {
    Accordion: {
      Root: {
        defaultProps: {},
        baseStyle: {},
        sizes: {},
        variants: {},
      },
      Item: {
        defaultProps: {},
        baseStyle: {},
        sizes: {},
        variants: {},
      },
    },
  },
}
```
