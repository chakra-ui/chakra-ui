{
  "type": "composition",
  "npmDependencies": [
    "react-icons"
  ],
  "fileDependencies": [
    "./link-button"
  ],
  "id": "pagination",
  "file": {
    "name": "pagination.tsx",
    "content": "\"use client\"\n\nimport type { ButtonProps, TextProps } from \"@chakra-ui/react\"\nimport {\n  Button,\n  Pagination as ChakraPagination,\n  IconButton,\n  Text,\n  createContext,\n  usePaginationContext,\n} from \"@chakra-ui/react\"\nimport * as React from \"react\"\nimport {\n  HiChevronLeft,\n  HiChevronRight,\n  HiMiniEllipsisHorizontal,\n} from \"react-icons/hi2\"\nimport { LinkButton } from \"./link-button\"\n\ninterface ButtonVariantMap {\n  current: ButtonProps[\"variant\"]\n  default: ButtonProps[\"variant\"]\n  ellipsis: ButtonProps[\"variant\"]\n}\n\ntype PaginationVariant = \"outline\" | \"solid\" | \"subtle\"\n\ninterface ButtonVariantContext {\n  size: ButtonProps[\"size\"]\n  variantMap: ButtonVariantMap\n  getHref?: (page: number) => string\n}\n\nconst [RootPropsProvider, useRootProps] = createContext<ButtonVariantContext>({\n  name: \"RootPropsProvider\",\n})\n\nexport interface PaginationRootProps\n  extends Omit<ChakraPagination.RootProps, \"type\"> {\n  size?: ButtonProps[\"size\"]\n  variant?: PaginationVariant\n  getHref?: (page: number) => string\n}\n\nconst variantMap: Record<PaginationVariant, ButtonVariantMap> = {\n  outline: { default: \"ghost\", ellipsis: \"plain\", current: \"outline\" },\n  solid: { default: \"outline\", ellipsis: \"outline\", current: \"solid\" },\n  subtle: { default: \"ghost\", ellipsis: \"plain\", current: \"subtle\" },\n}\n\nexport const PaginationRoot = React.forwardRef<\n  HTMLDivElement,\n  PaginationRootProps\n>(function PaginationRoot(props, ref) {\n  const { size = \"sm\", variant = \"outline\", getHref, ...rest } = props\n  return (\n    <RootPropsProvider\n      value={{ size, variantMap: variantMap[variant], getHref }}\n    >\n      <ChakraPagination.Root\n        ref={ref}\n        type={getHref ? \"link\" : \"button\"}\n        {...rest}\n      />\n    </RootPropsProvider>\n  )\n})\n\nexport const PaginationEllipsis = React.forwardRef<\n  HTMLDivElement,\n  ChakraPagination.EllipsisProps\n>(function PaginationEllipsis(props, ref) {\n  const { size, variantMap } = useRootProps()\n  return (\n    <ChakraPagination.Ellipsis ref={ref} {...props} asChild>\n      <Button as=\"span\" variant={variantMap.ellipsis} size={size}>\n        <HiMiniEllipsisHorizontal />\n      </Button>\n    </ChakraPagination.Ellipsis>\n  )\n})\n\nexport const PaginationItem = React.forwardRef<\n  HTMLButtonElement,\n  ChakraPagination.ItemProps\n>(function PaginationItem(props, ref) {\n  const { page } = usePaginationContext()\n  const { size, variantMap, getHref } = useRootProps()\n\n  const current = page === props.value\n  const variant = current ? variantMap.current : variantMap.default\n\n  if (getHref) {\n    return (\n      <LinkButton href={getHref(props.value)} variant={variant} size={size}>\n        {props.value}\n      </LinkButton>\n    )\n  }\n\n  return (\n    <ChakraPagination.Item ref={ref} {...props} asChild>\n      <Button variant={variant} size={size}>\n        {props.value}\n      </Button>\n    </ChakraPagination.Item>\n  )\n})\n\nexport const PaginationPrevTrigger = React.forwardRef<\n  HTMLButtonElement,\n  ChakraPagination.PrevTriggerProps\n>(function PaginationPrevTrigger(props, ref) {\n  const { size, variantMap, getHref } = useRootProps()\n  const { previousPage } = usePaginationContext()\n\n  if (getHref) {\n    return (\n      <LinkButton\n        href={previousPage != null ? getHref(previousPage) : undefined}\n        variant={variantMap.default}\n        size={size}\n      >\n        <HiChevronLeft />\n      </LinkButton>\n    )\n  }\n\n  return (\n    <ChakraPagination.PrevTrigger ref={ref} asChild {...props}>\n      <IconButton variant={variantMap.default} size={size}>\n        <HiChevronLeft />\n      </IconButton>\n    </ChakraPagination.PrevTrigger>\n  )\n})\n\nexport const PaginationNextTrigger = React.forwardRef<\n  HTMLButtonElement,\n  ChakraPagination.NextTriggerProps\n>(function PaginationNextTrigger(props, ref) {\n  const { size, variantMap, getHref } = useRootProps()\n  const { nextPage } = usePaginationContext()\n\n  if (getHref) {\n    return (\n      <LinkButton\n        href={nextPage != null ? getHref(nextPage) : undefined}\n        variant={variantMap.default}\n        size={size}\n      >\n        <HiChevronRight />\n      </LinkButton>\n    )\n  }\n\n  return (\n    <ChakraPagination.NextTrigger ref={ref} asChild {...props}>\n      <IconButton variant={variantMap.default} size={size}>\n        <HiChevronRight />\n      </IconButton>\n    </ChakraPagination.NextTrigger>\n  )\n})\n\nexport const PaginationItems = (props: React.HTMLAttributes<HTMLElement>) => {\n  return (\n    <ChakraPagination.Context>\n      {({ pages }) =>\n        pages.map((page, index) => {\n          return page.type === \"ellipsis\" ? (\n            <PaginationEllipsis key={index} index={index} {...props} />\n          ) : (\n            <PaginationItem\n              key={index}\n              type=\"page\"\n              value={page.value}\n              {...props}\n            />\n          )\n        })\n      }\n    </ChakraPagination.Context>\n  )\n}\n\ninterface PageTextProps extends TextProps {\n  format?: \"short\" | \"compact\" | \"long\"\n}\n\nexport const PaginationPageText = React.forwardRef<\n  HTMLParagraphElement,\n  PageTextProps\n>(function PaginationPageText(props, ref) {\n  const { format = \"compact\", ...rest } = props\n  const { page, totalPages, pageRange, count } = usePaginationContext()\n  const content = React.useMemo(() => {\n    if (format === \"short\") return `${page} / ${totalPages}`\n    if (format === \"compact\") return `${page} of ${totalPages}`\n    return `${pageRange.start + 1} - ${pageRange.end} of ${count}`\n  }, [format, page, totalPages, pageRange, count])\n\n  return (\n    <Text fontWeight=\"medium\" ref={ref} {...rest}>\n      {content}\n    </Text>\n  )\n})\n"
  },
  "component": "Pagination"
}