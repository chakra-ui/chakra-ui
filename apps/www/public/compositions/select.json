{
  "type": "composition",
  "npmDependencies": [],
  "fileDependencies": [
    "compositions/ui/close-button"
  ],
  "id": "select",
  "file": {
    "name": "select.tsx",
    "content": "\"use client\"\n\nimport type { CollectionItem } from \"@chakra-ui/react\"\nimport { Select as ChakraSelect, Portal } from \"@chakra-ui/react\"\nimport { CloseButton } from \"./close-button\"\n\ninterface SelectTriggerProps extends ChakraSelect.ControlProps {\n  clearable?: boolean\n}\n\nexport const SelectTrigger = (props: SelectTriggerProps) => {\n  const { children, clearable, ...rest } = props\n  return (\n    <ChakraSelect.Control {...rest}>\n      <ChakraSelect.Trigger>{children}</ChakraSelect.Trigger>\n      <ChakraSelect.IndicatorGroup>\n        {clearable && <SelectClearTrigger />}\n        <ChakraSelect.Indicator />\n      </ChakraSelect.IndicatorGroup>\n    </ChakraSelect.Control>\n  )\n}\n\nconst SelectClearTrigger = (props: ChakraSelect.ClearTriggerProps) => (\n  <ChakraSelect.ClearTrigger asChild {...props}>\n    <CloseButton\n      size=\"xs\"\n      variant=\"plain\"\n      focusVisibleRing=\"inside\"\n      focusRingWidth=\"2px\"\n      pointerEvents=\"auto\"\n      color=\"fg.muted\"\n    />\n  </ChakraSelect.ClearTrigger>\n)\n\ninterface SelectContentProps extends ChakraSelect.ContentProps {\n  portalled?: boolean\n  containerRef?: React.RefObject<HTMLElement>\n}\n\nexport const SelectContent = (props: SelectContentProps) => {\n  const { portalled = true, containerRef, ...rest } = props\n  return (\n    <Portal disabled={!portalled} container={containerRef}>\n      <ChakraSelect.Positioner>\n        <ChakraSelect.Content {...rest} />\n      </ChakraSelect.Positioner>\n    </Portal>\n  )\n}\n\nexport const SelectItem = (props: ChakraSelect.ItemProps) => {\n  const { item, children, ...rest } = props\n  return (\n    <ChakraSelect.Item key={item.value} item={item} {...rest}>\n      {children}\n      <ChakraSelect.ItemIndicator />\n    </ChakraSelect.Item>\n  )\n}\n\ninterface SelectValueTextProps\n  extends Omit<ChakraSelect.ValueTextProps, \"children\"> {\n  children?(items: CollectionItem[]): React.ReactNode\n}\n\nexport const SelectValueText = (props: SelectValueTextProps) => {\n  const { children, ...rest } = props\n  return (\n    <ChakraSelect.ValueText {...rest}>\n      <ChakraSelect.Context>\n        {(select) => {\n          const items = select.selectedItems\n          if (items.length === 0) return props.placeholder\n          if (children) return children(items)\n          if (items.length === 1)\n            return select.collection.stringifyItem(items[0])\n          return `${items.length} selected`\n        }}\n      </ChakraSelect.Context>\n    </ChakraSelect.ValueText>\n  )\n}\n\nexport const SelectRoot = (props: ChakraSelect.RootProps) => {\n  return (\n    <ChakraSelect.Root\n      {...props}\n      positioning={{ sameWidth: true, ...props.positioning }}\n    />\n  )\n}\n\nexport const SelectLabel = ChakraSelect.Label\nexport const SelectItemText = ChakraSelect.ItemText\n\ninterface SelectItemGroupProps extends ChakraSelect.ItemGroupProps {\n  label: React.ReactNode\n}\n\nexport const SelectItemGroup = (props: SelectItemGroupProps) => {\n  const { children, label, ...rest } = props\n  return (\n    <ChakraSelect.ItemGroup {...rest}>\n      <ChakraSelect.ItemGroupLabel>{label}</ChakraSelect.ItemGroupLabel>\n      {children}\n    </ChakraSelect.ItemGroup>\n  )\n}\n"
  },
  "component": "Select"
}
